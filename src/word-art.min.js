var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,e){if(c){b=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var f=a[e];f in b||(b[f]={});b=b[f]}a=a[a.length-1];e=b[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Object.is",function(a){return a?a:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,b){var c=this;c instanceof String&&(c=String(c));var f=c.length;for(b=b||0;b<f;b++)if(c[b]==a||Object.is(c[b],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,e={next:function(){if(b<a.length){var f=b++;return{value:c(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$(document).ready(function(){var a=$("#word_art_form"),c=$("#display_results"),b=$("#display_loading"),e="Dope!;Sick!;Wow!;Really nice work -;Incredible!!!;That's tight -;Wicked sick!;My friend, you have astonished me.;Could it be? YES!;Honestly, I'm impressed -;Superlative!;Can you believe it?;Outstanding!;[Generic Positive Expression]!;I can tell you are smart -".split(";"),f=function(){b.html("").hide();c.show();a.show()},p=function(a){return'\x3cp class\x3d"text-danger"\x3eThere was an error generating your SVG file: \n    \x3cstrong\x3e'+
a+"\x3c/strong\x3e\n    \x3cbr/\x3eHuge books (like the Bible) can sometimes overload the server.\x3c/p\x3e"},q=function(a){console.log("Text length before stripping: "+a.length);a=a.replace(/[\u2018\u2019\u2018\u2019\u201A]/gm,"'").replace(/[\u201c\u201d\u201C\u201D\u201E]/gm,'"').replace(/\u2026/gm,"...").replace(/\u02C6/gm,"^").replace(/\u2039/gm,"\x3c").replace(/\u203A/gm,"\x3e").replace(/[\u02DC\u00A0]/gm," ").replace(/\d+:\d+/gm," ").replace(/[\u2013\u2014,:;\-\+]/gm," ").replace(/([!\?]|\.{2,})/gm,
".").replace(/(\r\n|\n|\r)/gm," ").replace(/\s{2,}/gm," ").trim().toLowerCase();console.log("Text length after stripping: "+a.length);return a},r=function(a){return a.match(/[^\.!\?]+[\.!\?]+/g).map(function(a){return a.split(" ").length})},u=function(a){var d=["h -","v ","h ","v -"],b=0;return a.reduce(function(a,c){c=""+d[b]+c;b=3===b?0:b+1;return a+" "+c},"M50 20j")},v=function(a,b,c){a=a.match(/[^\.!\?]+[\.!\?]+/g);var d=c||"#14B6D4";return a.map(function(a){var c=d;b.words.forEach(function(d){a.includes(d.toLowerCase())&&
(c=b.color||"#F22F00")});return{color:c,length:a.split(" ").length}})},n=function(a){a=a?a.trim():"";return a.includes("#")&&h(a)?a:h("#"+a)?"#"+a:null},w=function(a){return a?a.split(",").map(function(a){return a.trim().toLowerCase()}):null},x=function(a){return a?a.split(",").map(function(a){return n(a)}):null},h=function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},y=function(a){return a.split("").reduce(function(b,c,d){return b+a.charCodeAt(d)*(d+1)},305419896).toString()};a.submit(function(d){d.stopPropagation();
d.preventDefault();var g=a.serializeArray();d=q(g[0].value);var h=n(g[1].value),t=x(g[2].value);g={words:w(g[3].value),color:n(g[4].value)};var k=r(d);k=u(k);var m=g.words?v(d,g,h):null;console.log(m);var l={text:d,simple_path:k,split_pre_parsed:m,color:h,node_colors:t,version:1};d=Object.keys(l).reduce(function(a,b){if(!l[b]||""===l[b])return a;a[b]=l[b];return a},{});g.words&&(d.split=g);(0<k.length&&!d.split||0<m.length)&&delete d.text;a.hide();c.hide();b.html('\x3cp class\x3d"lead text-info text-center"\x3eNow generating your SVG file...\x3c/p\x3e').show();
d.checksum=y(JSON.stringify(d));console.log(d.checksum);console.log(d);$.ajax({url:"https://gy2aa8c57c.execute-api.us-east-1.amazonaws.com/dev/",method:"post",data:JSON.stringify(d),processData:!1,headers:{Accept:"application/json"},dataType:"json"}).then(function(a){console.log(a);a.s3_url?c.html('\x3cp class\x3d"lead text-success text-center"\x3e'+e[Math.floor(Math.random()*e.length)]+' Your SVG file has been generated\x3c/p\x3e\n    \x3ca href\x3d"'+a.s3_url+'" target\x3d"_blank" role\x3d"button" class\x3d"btn btn-md btn-success"\x3eDownload SVG\x3c/a\x3e'):
c.html(p(a.err));f()}).catch(function(a){console.log("err",a);c.html(p(a.statusText));f()})})});
